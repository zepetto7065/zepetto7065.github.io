---
title: 몽고(Mongo)를 쓰는 이유
categories:
  - MongoDB
feature_image: "https://picsum.photos/2560/600?image=872"
---

## MongoDB란?
몽고(Mongo)란 오픈 소스 NoSQL 시스템으로 , 데이터를 문서 (Document) 형태로 저장한다.
RDBMS 형태와 달리 테이블이 아닌 JSON 기반으로 데이터를 저장한다.

## 특징
> 아래에서 특징 별로 자세히 살펴보도록 하자.
1. 스키마가 유연하다.
2. 수평 확장 (Sharding)이 쉽다.
3. 빠른 읽기/쓰기 성능 
4. JSON 스타일의 쿼리를 지원한다.
5. 다양한 언어에서 지원 ( Java, Python, Node.js 등)

## 1. 스키마가 유연하다?
> 테이블처럼 고정된 구조(schema)가 강제 되지 않는다

이게 뭔소리냐함은 같은 컬렉션(collection)에 저장된 문서(document)들이 서로 다른 필드를 가질수 있다.

```json
// 같은 컬렉션에 저장된 문서들이 구조가 다름
{
  "name": "Alice",
  "age": 30
}

{
  "name": "Bob",
  "hobby": "cycling",
  "joinedAt": "2024-01-01"
}
```
- 즉 데이터가 자주 바뀌는 로그나 이벤트 수집에 유리하다.
- 기능 추가에도 부담이 적을 수 있다.
- 단점이라고 하면 일관성이 떨어질 수 있다.


## 2. 수평 확장 (Sharding)이 쉽다?
> MongoDB는 Sharding Key를 기준으로 분산하여 여러 서버(Shard)에 나누어 저장한다.

즉 여러 서버에 저장하지 않고 나누어 저장하여 병렬로 읽고 쓸 수 있다라는 말이 된다.
사용자가 수백만명으로 늘어나면서 하나의 서버로 감당하기 힘들다면 여러 샤드에 나누에 저장하는 것을 고민해볼 수 있다.

- 단점이라 하면 복잡한 구성과 운영의 어려움이 있을수 있다.
- 또는 특정 샤드에만 데이터가 쏠리는 Hot Spot 문제 발생 가능

## 3. 빠른 읽기/쓰기가 가능하다?
> MongoDB는 기본적으로 WiredTriger 스토리지 엔진을 사용한다.
> 이는 메모리와 디스크에 쓰기와 읽기 작업을 병행 처리한다.

Document 단위의 저장하는 몽고는 Row 단위의 RDB보다 자율적인 구조를 가진다.

또한 RDB와 같이 다양한 인덱싱을 지원한다.
- 복합 인덱스
- 해시 인덱스
- 범위 인덱스

이건 좀더.. 